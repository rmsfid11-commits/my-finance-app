import{j as e}from"./vendor-motion-CrMIN7Qx.js";import{r as m}from"./vendor-react-CNNLD1ro.js";import{c as H,u as _e,C as re,S as ie,T as ve,f as j,E as Ne,a as ye,b as $,d as Ce,e as We,g as Ge}from"./index-BVIMeOt-.js";import{E as de,C as Oe}from"./CustomTooltip-BYVCHyIQ.js";import{Z as Re,F as ze}from"./zap-BRaYkIge.js";import{G as Ie}from"./gift-OQYTXUHX.js";import{E as Be}from"./eye-NxTvEuom.js";import{R as oe,P as Xe,a as He,C as Ke,A as Ue,X as Ve,Y as Ye,T as qe,b as Fe,B as Ze,c as Je}from"./vendor-charts-BYsEVaFl.js";import"./vendor-firebase-CgghcYGk.js";const Qe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],et=H("circle-check-big",Qe);const tt=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],st=H("eye-off",tt);const at=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nt=H("star",at);const lt=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ct=H("trending-down",lt);const rt=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],it=H("trophy",rt);function O({value:n,duration:r=800,format:l,className:c=""}){const[a,d]=m.useState(n),p=m.useRef(n),f=m.useRef();return m.useEffect(()=>{const x=p.current,D=n-x;if(Math.abs(D)<1){d(n),p.current=n;return}const h=performance.now(),P=T=>{const A=Math.min((T-h)/r,1),F=1-Math.pow(1-A,3);d(x+D*F),A<1?f.current=requestAnimationFrame(P):p.current=n};return f.current=requestAnimationFrame(P),()=>cancelAnimationFrame(f.current)},[n,r]),e.jsx("span",{className:c,children:l?l(a):Math.round(a).toLocaleString()})}const ke=["#3182F6","#00C48C","#FF9F43","#7C5CFC","#FF4757","#0ABDE3","#FF6B81","#2ED573"],dt=n=>ke[n.split("").reduce((r,l)=>r+l.charCodeAt(0),0)%ke.length],we=n=>n>=4?"bg-[#FF4757]":n>=3?"bg-[#FF9F43]":n>=2?"bg-[#FFD93D]":"bg-[#30363D]",ot=[{id:"no_spend_3",name:"ë¬´ì§€ì¶œ 3ì¼",desc:"ì´ë²ˆì£¼ ë¬´ì§€ì¶œ 3ì¼ ë‹¬ì„±",xp:50,icon:"ðŸš«",check:(n,r)=>{const l=Q(r),c=new Set(n.filter(a=>l.includes(a.date)).map(a=>a.date));return l.filter(a=>!c.has(a)&&a<=r).length>=3}},{id:"under_10k",name:"ë§Œì›ì˜ í–‰ë³µ",desc:"í•˜ë£¨ ì§€ì¶œ 1ë§Œì› ì´í•˜ 5ì¼",xp:40,icon:"ðŸ’ª",check:(n,r)=>{const l=Q(r),c={};return n.filter(a=>l.includes(a.date)).forEach(a=>{c[a.date]=(c[a.date]||0)+a.amount}),Object.values(c).filter(a=>a<=1e4).length>=5}},{id:"log_every_day",name:"ë§¤ì¼ ê¸°ë¡",desc:"7ì¼ ì—°ì† ê±°ëž˜ ê¸°ë¡",xp:60,icon:"ðŸ“",check:(n,r)=>Q(r).filter(c=>c<=r).every(c=>n.some(a=>a.date===c))},{id:"coffee_save",name:"ì»¤í”¼ ì ˆì•½",desc:"ì´ë²ˆì£¼ ì»¤í”¼/ì¹´íŽ˜ 2ë§Œì› ì´í•˜",xp:30,icon:"â˜•",check:(n,r)=>{const l=Q(r);return n.filter(a=>l.includes(a.date)&&(a.place?.includes("ì»¤í”¼")||a.place?.includes("ì¹´íŽ˜")||a.memo?.includes("ì»¤í”¼"))).reduce((a,d)=>a+d.amount,0)<=2e4}},{id:"budget_hero",name:"ì˜ˆì‚° ìˆ˜í˜¸ìž",desc:"ëª¨ë“  ì¹´í…Œê³ ë¦¬ ì˜ˆì‚° ë‚´ ìœ ì§€",xp:80,icon:"ðŸ›¡ï¸",check:(n,r,l)=>{const c=r.substring(0,7),a={};return n.filter(d=>d.date.startsWith(c)).forEach(d=>{a[d.category]=(a[d.category]||0)+d.amount}),Object.entries(l).every(([d,p])=>!p||(a[d]||0)<=p)}},{id:"saving_30",name:"ì €ì¶•ì™•",desc:"ì´ë²ˆë‹¬ ì €ì¶•ë¥  30% ì´ìƒ",xp:100,icon:"ðŸ‘‘",check:(n,r,l,c,a)=>{const d=r.substring(0,7),p=n.filter(f=>f.date.startsWith(d)).reduce((f,x)=>f+x.amount,0)+a.reduce((f,x)=>f+x.amount,0);return c.salary>0&&(c.salary-p)/c.salary>=.3}}];function Q(n){const r=new Date(n),l=r.getDay(),c=new Date(r);return c.setDate(r.getDate()-(l===0?6:l-1)),Array.from({length:7},(a,d)=>{const p=new Date(c);return p.setDate(c.getDate()+d),p.toISOString().split("T")[0]})}const R=[0,100,250,500,800,1200,1800,2500,3500,5e3,7e3,1e4],X=n=>{let r=1;for(let a=1;a<R.length&&n>=R[a];a++)r=a+1;const l=R[r-1]||0,c=R[r]||R[R.length-1]*1.5;return{level:r,currentXP:n-l,neededXP:c-l,pct:(n-l)/(c-l)*100}},De=["ë‰´ë¹„","ì ˆì•½ ìž…ë¬¸ìž","ì•Œëœ° ì‹œë¯¼","ìž¬í…Œí¬ ë£¨í‚¤","ë¨¸ë‹ˆ ì„¸ì´ë²„","ì €ì¶• ì „ì‚¬","íˆ¬ìž íƒí—˜ê°€","ìž¬ë¬´ ë§ˆìŠ¤í„°","ë¶€ì˜ ì„¤ê³„ìž","ê²½ì œì  ìžìœ ì¸","ê¸ˆìœµ ì „ì„¤","ëˆì˜ ì‹ "];function Nt(){const{profile:n,setProfile:r,goals:l,setGoals:c,budget:a,portfolio:d,stockPrices:p,exchangeRate:f,transactions:x,dividends:E,fixedExpenses:D,hideAmounts:h,setHideAmounts:P,customCategories:T,gamification:A,setGamification:F}=_e(),[b,z]=m.useState(!1),[M,xe]=m.useState(null),[Me,K]=m.useState(!1),[ee,Se]=m.useState(!1),g=t=>h?"â€¢â€¢â€¢â€¢â€¢":t,k=new Date().toISOString().split("T")[0],me=k.substring(0,7),_=new Date,he=_.getDate(),pe=new Date(_.getFullYear(),_.getMonth()+1,0).getDate(),I=he/pe,$e=m.useMemo(()=>x.filter(t=>t.date===k),[x,k]),U=m.useMemo(()=>x.filter(t=>t.date.startsWith(me)&&!t.refunded),[x,me]),te=$e.reduce((t,s)=>t+s.amount,0),S=U.reduce((t,s)=>t+s.amount,0),se=D.reduce((t,s)=>t+s.amount,0),fe=S+se,ue=n.salary-fe,L=n.salary>0?ue/n.salary*100:0,V=Object.values(a).reduce((t,s)=>t+s,0),ae=f||1450,ne=V>0?Math.min(S/V*100,150):0,w=m.useMemo(()=>{const t=V*I,s=t>0?S/t*100:0,i=I>0?Math.round(S/I):0,o=s<=90?"ì—¬ìœ ":s<=110?"ì ì •":s<=130?"ì£¼ì˜":"ìœ„í—˜",u=s<=90?"#00C48C":s<=110?"#3182F6":s<=130?"#FF9F43":"#FF4757";return{pace:Math.round(s),projected:i,status:o,color:u}},[S,V,I]),C=m.useMemo(()=>{const t={};return U.forEach(s=>{t[s.category]=(t[s.category]||0)+s.amount}),Object.entries(t).sort((s,i)=>i[1]-s[1]).map(([s,i])=>({name:s,value:i,color:re[s]||T?.find(o=>o.name===s)?.color||"#8B95A1",pct:S>0?(i/S*100).toFixed(1):0,budgetAmt:a[s]||0,txs:U.filter(o=>o.category===s)}))},[U,S,a,T]),W=m.useMemo(()=>{let t=0,s=0;return{items:d.map(o=>{const u=p[o.symbol]?.price||o.avgPrice,N=o.shares*u*ae,y=o.shares*o.avgPrice*ae;return t+=N,s+=y,{...o,currentPrice:u,value:N,cost:y,pnl:N-y,pnlPercent:y>0?(N-y)/y*100:0}}),totalValue:t,totalCost:s,totalPnl:t-s,totalPnlPct:s>0?(t-s)/s*100:0}},[d,p,ae]),Y=m.useMemo(()=>{const t=E.slice(-3);return t.length>0?t.reduce((s,i)=>s+i.amount,0)/t.length:0},[E]),q=W.totalValue,je=W.totalPnl>0,Pe=m.useMemo(()=>{const t=[];for(let s=5;s>=0;s--){const i=new Date;i.setMonth(i.getMonth()-s);const o=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}`,u=x.filter(N=>N.date.startsWith(o)&&!N.refunded).reduce((N,y)=>N+y.amount,0)+se;t.push({month:`${i.getMonth()+1}ì›”`,ì§€ì¶œ:u||Math.round(n.salary*.6),ìˆ˜ìž…:n.salary})}return t},[x,n.salary,se]),be=x.slice(0,b?10:5),B=m.useMemo(()=>C.filter(t=>t.budgetAmt>0&&t.value>t.budgetAmt*.8),[C]),Ae=m.useMemo(()=>{const t=[];return L>=30?t.push({text:`ì €ì¶•ë¥  ${L.toFixed(0)}% â€” í›Œë¥­í•´ìš”!`,color:"#00C48C",icon:ie}):L<10&&t.push({text:`ì €ì¶•ë¥ ì´ ${L.toFixed(0)}%ë¡œ ë‚®ì•„ìš”. ì§€ì¶œì„ ì¤„ì—¬ë³´ì„¸ìš”`,color:"#FF4757",icon:ve}),w.pace>120&&t.push({text:`ì§€ì¶œ ì†ë„ê°€ ë¹¨ë¼ìš”. ì›”ë§ ${j(w.projected)} ì˜ˆìƒ`,color:"#FF9F43",icon:Re}),B.length>0&&t.push({text:`${B[0].name} ì˜ˆì‚° ${(B[0].value/B[0].budgetAmt*100).toFixed(0)}% ì‚¬ìš©`,color:"#FF4757",icon:ve}),te===0&&_.getHours()>=18&&t.push({text:"ì˜¤ëŠ˜ ë¬´ì§€ì¶œ ì„±ê³µ ì¤‘!",color:"#00C48C",icon:ie}),t.length===0&&t.push({text:"ê¾¸ì¤€ížˆ ê´€ë¦¬í•˜ê³  ìžˆì–´ìš”. ì¢‹ì€ ìŠµê´€!",color:"#3182F6",icon:ie}),t},[L,w,B,te,_]),v=A||{xp:0,streak:0,lastCheckIn:null,completedChallenges:[]},G=X(v.xp),ge=De[Math.min(G.level-1,De.length-1)];m.useEffect(()=>{if(!F)return;const t=v.lastCheckIn;if(t===k)return;const s=new Date(_);s.setDate(s.getDate()-1);const i=s.toISOString().split("T")[0],o=t===i?v.streak+1:1,u=o>=7?20:o>=3?10:5,N=X(v.xp).level,y=v.xp+u,Ee=X(y).level;F(Te=>({...Te,lastCheckIn:k,streak:o,xp:y})),Ee>N&&setTimeout(()=>K(!0),500)},[k]);const le=m.useMemo(()=>{const t=new Set(v.completedChallenges||[]);return ot.map(s=>({...s,done:t.has(s.id),progress:s.check(x,k,a,n,D)}))},[x,k,a,n,D,v.completedChallenges]),Le=m.useCallback(t=>{if(!t.progress||t.done||!F)return;const s=X(v.xp).level,i=v.xp+t.xp,o=X(i).level;F(u=>({...u,xp:i,completedChallenges:[...u.completedChallenges||[],t.id]})),o>s&&setTimeout(()=>K(!0),500)},[v.xp,F]),Z=Ne.filter(t=>t.date===k),J=Ne.filter(t=>t.date>k).slice(0,3),ce=({pct:t,color:s,size:i=72,stroke:o=5})=>{const u=(i-o)/2,N=2*Math.PI*u,y=Math.min(t,100)/100*N;return e.jsxs("svg",{width:i,height:i,viewBox:`0 0 ${i} ${i}`,className:"-rotate-90",children:[e.jsx("circle",{cx:i/2,cy:i/2,r:u,fill:"none",stroke:"var(--c-border)",strokeWidth:o,opacity:.3}),e.jsx("circle",{cx:i/2,cy:i/2,r:u,fill:"none",stroke:s,strokeWidth:o,strokeDasharray:`${y} ${N}`,strokeLinecap:"round"})]})};return e.jsx("div",{className:"flex-1 flex flex-col animate-slide",children:e.jsxs("div",{className:"glass flex-1 flex flex-col",children:[e.jsxs("div",{className:"px-5 pt-4 pb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 glass-inner rounded-2xl px-3.5 py-2.5",children:[e.jsx(ze,{size:18,className:v.streak>=7?"text-[#FF4757]":v.streak>=3?"text-[#FF9F43]":"text-c-text3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-extrabold text-c-text leading-none",children:v.streak}),e.jsx("div",{className:"text-[9px] text-c-text3",children:"ì—°ì† ì¶œì„"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(nt,{size:14,className:"text-[#FFD93D]"}),e.jsxs("span",{className:"text-xs font-bold text-c-text",children:["Lv.",G.level]}),e.jsx("span",{className:"text-[10px] text-c-text2",children:ge})]}),e.jsxs("span",{className:"text-[10px] text-c-text3",children:[v.xp," XP"]})]}),e.jsx("div",{className:"h-2 glass-inner rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${Math.min(G.pct,100)}%`,background:"linear-gradient(90deg, #FFD93D, #FF9F43)"}})}),e.jsxs("div",{className:"text-[9px] text-c-text3 mt-0.5 text-right",children:[Math.round(G.currentXP)," / ",Math.round(G.neededXP)," XP"]})]})]}),e.jsxs("button",{onClick:()=>Se(!ee),className:"w-full mt-2.5 flex items-center gap-2 glass-inner rounded-xl px-3.5 py-2.5 active:scale-[0.98] transition-transform",children:[e.jsx(it,{size:15,className:"text-[#7C5CFC]"}),e.jsx("span",{className:"text-xs font-bold text-c-text flex-1 text-left",children:"ì£¼ê°„ ì±Œë¦°ì§€"}),e.jsxs("span",{className:"text-[10px] font-bold text-[#00C48C]",children:[le.filter(t=>t.done).length,"/",le.length," ì™„ë£Œ"]}),e.jsx(ye,{size:14,className:`text-c-text3 transition-transform ${ee?"rotate-90":""}`})]}),ee&&e.jsx("div",{className:"mt-2 space-y-1.5 animate-fade",children:le.map(t=>e.jsxs("div",{className:`flex items-center gap-2.5 px-3 py-2.5 rounded-xl transition-all ${t.done?"bg-[#00C48C]/8":t.progress?"bg-[#FFD93D]/8":"glass-inner"}`,children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs font-bold text-c-text",children:t.name}),e.jsx("div",{className:"text-[10px] text-c-text3",children:t.desc})]}),t.done?e.jsxs("span",{className:"text-[10px] font-bold text-[#00C48C] flex items-center gap-0.5",children:[e.jsx(et,{size:12})," ì™„ë£Œ"]}):t.progress?e.jsxs("button",{onClick:()=>Le(t),className:"text-[10px] font-bold text-[#FFD93D] bg-[#FFD93D]/15 px-2.5 py-1.5 rounded-lg flex items-center gap-1 active:scale-95 transition-transform",children:[e.jsx(Ie,{size:11})," +",t.xp,"XP"]}):e.jsxs("span",{className:"text-[10px] text-c-text3",children:["+",t.xp,"XP"]})]},t.id))})]}),e.jsx("div",{className:"border-t border-c-border mx-5"}),Me&&e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 animate-fade",onClick:()=>K(!1),children:e.jsxs("div",{className:"text-center animate-slide",onClick:t=>t.stopPropagation(),children:[e.jsx("div",{className:"text-6xl mb-3",children:"ðŸŽ‰"}),e.jsx("div",{className:"text-2xl font-extrabold text-[#FFD93D] mb-1",children:"ë ˆë²¨ ì—…!"}),e.jsxs("div",{className:"text-lg font-bold text-white mb-0.5",children:["Lv.",G.level]}),e.jsx("div",{className:"text-sm text-white/70 mb-4",children:ge}),e.jsx("button",{onClick:()=>K(!1),className:"px-6 py-2.5 bg-[#FFD93D] text-black font-bold rounded-2xl text-sm active:scale-95 transition-transform",children:"í™•ì¸"})]})}),e.jsxs("div",{className:"px-5 pt-5 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-c-text2",children:"ë‚´ ì´ ìžì‚°"}),e.jsx("button",{onClick:()=>P(!h),className:"p-1.5 -mr-1.5 text-c-text3 active:text-c-text2 transition-colors",children:h?e.jsx(st,{size:16}):e.jsx(Be,{size:16})})]}),e.jsx("div",{className:"text-2xl font-extrabold text-c-text tracking-tight",children:h?"â€¢â€¢â€¢â€¢â€¢":e.jsx(O,{value:q,format:$})}),d.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`text-sm font-bold ${je?"text-[#00C48C]":"text-[#FF4757]"}`,children:h?"â€¢â€¢â€¢â€¢â€¢":e.jsx(O,{value:W.totalPnl,format:t=>`${t>=0?"+":""}${$(t)}`})}),e.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${je?"bg-[#00C48C]/12 text-[#00C48C]":"bg-[#FF4757]/12 text-[#FF4757]"}`,children:h?"â€¢â€¢â€¢":Ce(W.totalPnlPct)})]})]}),e.jsx("div",{className:"border-t border-c-border mx-5"}),e.jsx("div",{className:"px-5 py-3",children:e.jsx("div",{className:"space-y-2",children:Ae.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2.5 px-3.5 py-2.5 rounded-xl",style:{backgroundColor:t.color+"12",borderLeft:`3px solid ${t.color}`},children:[e.jsx(t.icon,{size:14,style:{color:t.color},className:"shrink-0"}),e.jsx("span",{className:"text-xs font-medium text-c-text",children:t.text})]},s))})}),e.jsx("div",{className:"border-t border-c-border mx-5"}),e.jsxs("div",{className:"px-5 py-4",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:"relative shrink-0",children:[e.jsx(ce,{pct:ne,color:w.color,size:88,stroke:6}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-lg font-extrabold",style:{color:w.color},children:g(`${Math.round(ne)}%`)}),e.jsx("span",{className:"text-[9px] text-c-text3",children:"ì˜ˆì‚° ì†Œì§„"})]})]}),e.jsxs("div",{className:"flex-1 space-y-2.5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#FF4757]"}),e.jsx("span",{className:"text-[11px] text-c-text2",children:"ì˜¤ëŠ˜ ì§€ì¶œ"})]}),e.jsx("div",{className:"text-base font-extrabold text-c-text",children:h?"â€¢â€¢â€¢â€¢â€¢":e.jsx(O,{value:te,format:$})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#FF9F43]"}),e.jsx("span",{className:"text-[11px] text-c-text2",children:"ì´ë²ˆë‹¬ ì§€ì¶œ"}),e.jsx("span",{className:"text-[10px] font-semibold px-1.5 py-0.5 rounded-full ml-auto",style:{backgroundColor:w.color+"18",color:w.color},children:w.status})]}),e.jsx("div",{className:"text-base font-extrabold text-c-text",children:h?"â€¢â€¢â€¢â€¢â€¢":e.jsx(O,{value:fe,format:$})})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"h-1.5 glass-inner rounded-full overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 h-full w-px bg-c-text2 opacity-50 z-10",style:{left:`${Math.min(I*100,100)}%`}}),e.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${Math.min(ne,100)}%`,backgroundColor:w.color}})]}),e.jsxs("div",{className:"flex justify-between text-[10px] text-c-text3 mt-1",children:[e.jsxs("span",{children:[he,"ì¼ì°¨ / ",pe,"ì¼"]}),e.jsxs("span",{children:["ì›”ë§ ì˜ˆìƒ ",g(j(w.projected))]})]})]})]}),e.jsx("div",{className:"border-t border-c-border mx-5"}),e.jsxs("div",{className:"grid grid-cols-2 divide-x divide-c-border",children:[e.jsxs("div",{className:"px-5 py-3.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#00C48C]"}),e.jsx("span",{className:"text-[11px] text-c-text2",children:"ìˆ˜ìž…"})]}),e.jsx("div",{className:"text-lg font-extrabold text-c-text",children:h?"â€¢â€¢â€¢â€¢â€¢":e.jsx(de,{value:n.salary,onSave:t=>r({...n,salary:Math.round(t)}),format:$})})]}),e.jsxs("div",{className:"px-5 py-3.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7C5CFC]"}),e.jsx("span",{className:"text-[11px] text-c-text2",children:"ì €ì¶•"}),e.jsx("span",{className:`text-[10px] font-bold ml-auto ${L>=20?"text-[#00C48C]":"text-[#FF9F43]"}`,children:g(`${L.toFixed(0)}%`)})]}),e.jsx("div",{className:"text-lg font-extrabold text-c-text",children:h?"â€¢â€¢â€¢â€¢â€¢":e.jsx(O,{value:ue,format:$})})]})]}),e.jsx("div",{className:"border-t border-c-border mx-5"}),e.jsx(xt,{transactions:x,hideAmounts:h}),e.jsx("div",{className:"border-t border-c-border mx-5"}),C.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-5 py-4",children:[e.jsx("h2",{className:"text-sm font-bold text-c-text mb-3",children:"ì¹´í…Œê³ ë¦¬ë³„ ì§€ì¶œ"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-28 h-28 shrink-0",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsx(Xe,{children:e.jsx(He,{data:C,cx:"50%",cy:"50%",innerRadius:28,outerRadius:50,dataKey:"value",paddingAngle:2,strokeWidth:0,onClick:(t,s)=>xe(M===C[s]?.name?null:C[s]?.name),children:C.map((t,s)=>e.jsx(Ke,{fill:t.color,opacity:M&&M!==t.name?.3:1,className:"cursor-pointer transition-opacity"},s))})})})}),e.jsxs("div",{className:"flex-1 space-y-1.5",children:[C.slice(0,5).map(t=>e.jsxs("button",{onClick:()=>xe(M===t.name?null:t.name),className:`w-full flex items-center gap-2 py-1 transition-opacity ${M&&M!==t.name?"opacity-40":""}`,children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-xs text-c-text font-medium flex-1 text-left truncate",children:t.name}),e.jsx("span",{className:"text-[11px] font-bold text-c-text",children:g(j(t.value))}),e.jsxs("span",{className:"text-[10px] text-c-text3 w-9 text-right",children:[t.pct,"%"]})]},t.name)),C.length>5&&e.jsxs("div",{className:"text-[10px] text-c-text3 pl-4",children:["ì™¸ ",C.length-5,"ê°œ"]})]})]}),M&&(()=>{const t=C.find(s=>s.name===M);return t?e.jsxs("div",{className:"mt-3 glass-inner rounded-xl p-3 animate-fade",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-c-text",children:t.name}),e.jsx("span",{className:"text-xs text-c-text2",children:t.budgetAmt>0?`ì˜ˆì‚° ${g(j(t.budgetAmt))}`:"ì˜ˆì‚° ë¯¸ì„¤ì •"})]}),t.budgetAmt>0&&e.jsx("div",{className:"h-1.5 glass-inner rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:"h-full rounded-full",style:{width:`${Math.min(t.value/t.budgetAmt*100,100)}%`,backgroundColor:t.value>t.budgetAmt?"#FF4757":t.color}})}),e.jsxs("div",{className:"space-y-1",children:[t.txs.slice(0,5).map((s,i)=>e.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[e.jsx("span",{className:"text-c-text3 w-12",children:s.date.substring(5)}),e.jsx("span",{className:"text-c-text flex-1 truncate",children:s.place||s.memo||"-"}),e.jsx("span",{className:"font-bold text-c-text",children:g(j(s.amount))})]},i)),t.txs.length>5&&e.jsxs("div",{className:"text-[10px] text-c-text3 text-center",children:["ì™¸ ",t.txs.length-5,"ê±´"]})]})]}):null})()]}),e.jsx("div",{className:"border-t border-c-border mx-5"})]}),e.jsxs("div",{className:"px-5 py-4",children:[e.jsx("h2",{className:"text-sm font-bold text-c-text mb-3",children:"6ê°œì›” ì¶”ì´"}),e.jsx("div",{className:"h-36",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(Ue,{data:Pe,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"homeGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3182F6",stopOpacity:.2}),e.jsx("stop",{offset:"95%",stopColor:"#3182F6",stopOpacity:0})]})}),e.jsx(Ve,{dataKey:"month",tick:{fontSize:11,fill:"var(--c-text3)"},axisLine:!1,tickLine:!1}),e.jsx(Ye,{width:45,tick:{fontSize:9,fill:"var(--c-text3)"},tickFormatter:t=>j(t),axisLine:!1,tickLine:!1}),e.jsx(qe,{content:e.jsx(Oe,{formatter:t=>$(t)})}),e.jsx(Fe,{type:"monotone",dataKey:"ìˆ˜ìž…",stroke:"#00C48C",fill:"none",strokeWidth:2,strokeDasharray:"4 4",dot:!1}),e.jsx(Fe,{type:"monotone",dataKey:"ì§€ì¶œ",stroke:"#3182F6",fill:"url(#homeGrad)",strokeWidth:2,dot:{r:3,fill:"#3182F6"}})]})})}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2 text-[11px] text-c-text2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-4 h-0.5 bg-[#00C48C] inline-block",style:{borderTop:"1px dashed #00C48C"}})," ìˆ˜ìž…"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-4 h-0.5 bg-[#3182F6] inline-block"})," ì§€ì¶œ"]})]})]}),e.jsx("div",{className:"border-t border-c-border mx-5"}),e.jsxs("div",{className:"px-5 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-sm font-bold text-c-text",children:"ìµœê·¼ ê±°ëž˜"}),e.jsxs("button",{onClick:()=>z(!b),className:"text-[11px] text-[#3182F6] font-medium flex items-center gap-0.5",children:[b?"ì ‘ê¸°":"ë”ë³´ê¸°"," ",e.jsx(ye,{size:12,className:b?"rotate-90":""})]})]}),be.length>0?e.jsx("div",{className:"space-y-0.5",children:be.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2.5 py-2 border-b border-c-border last:border-0",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-sm shrink-0",style:{backgroundColor:(re[t.category]||"#8B95A1")+"18",color:re[t.category]||"#8B95A1"},children:t.category?.[0]||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-c-text truncate",children:t.place||t.category}),e.jsxs("div",{className:"text-[10px] text-c-text3",children:[t.date.substring(5)," ",t.time||""," Â· ",t.payment||""]})]}),e.jsx("div",{className:"text-sm font-bold text-c-text shrink-0",children:g(j(t.amount))})]},t.id||s))}):e.jsx("div",{className:"text-sm text-c-text3 text-center py-4",children:"ê±°ëž˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤"})]}),e.jsx("div",{className:"border-t border-c-border mx-5"}),d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-5 py-4",children:[e.jsx("h2",{className:"text-sm font-bold text-c-text mb-2",children:"í¬íŠ¸í´ë¦¬ì˜¤"}),W.items.map(t=>e.jsxs("div",{className:"flex items-center gap-3 py-2.5 border-b border-c-border last:border-0",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center text-white text-xs font-bold shrink-0",style:{backgroundColor:dt(t.symbol)},children:t.symbol.substring(0,2)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-bold text-sm text-c-text",children:t.symbol}),e.jsxs("div",{className:"text-[11px] text-c-text3",children:[We(t.currentPrice)," x ",t.shares.toLocaleString()]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("div",{className:"font-extrabold text-sm text-c-text",children:g(j(t.value))}),e.jsx("div",{className:`text-[11px] font-semibold ${t.pnl>=0?"text-[#00C48C]":"text-[#FF4757]"}`,children:g(`${t.pnl>=0?"+":""}${j(t.pnl)} (${Ce(t.pnlPercent)})`)})]})]},t.symbol)),e.jsxs("div",{className:"mt-2 flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-c-text2 mb-0.5",children:"ì´ í‰ê°€ì•¡"}),e.jsx("div",{className:"font-extrabold text-[#3182F6] text-xl",children:h?"â€¢â€¢â€¢â€¢â€¢":e.jsx(O,{value:W.totalValue,format:$})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-c-text2 mb-0.5",children:"ì›” ë°°ë‹¹"}),e.jsx("div",{className:"font-bold text-[#00C48C] text-base",children:g(j(Y))})]})]})]}),e.jsx("div",{className:"border-t border-c-border mx-5"})]}),e.jsxs("div",{className:"px-5 py-4",children:[e.jsx("h2",{className:"text-sm font-bold text-c-text mb-3",children:"ëª©í‘œ ì§„í–‰ë„"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"glass-inner rounded-2xl p-3.5 text-center",children:[e.jsxs("div",{className:"relative w-14 h-14 mx-auto mb-2",children:[e.jsx(ce,{pct:l.dividendGoal>0?Y/l.dividendGoal*100:0,color:"#00C48C",size:56,stroke:4}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-extrabold text-[#00C48C]",children:g(`${(l.dividendGoal>0?Y/l.dividendGoal*100:0).toFixed(0)}%`)})]}),e.jsx("div",{className:"text-[11px] text-c-text3 mb-0.5",children:"ë°°ë‹¹ ëª©í‘œ"}),e.jsx("div",{className:"text-sm font-bold text-c-text",children:g(j(Y))}),e.jsxs("div",{className:"text-[10px] text-c-text3",children:["/ ",e.jsx(de,{value:l.dividendGoal,onSave:t=>c({...l,dividendGoal:Math.round(t)}),format:j})]})]}),e.jsxs("div",{className:"glass-inner rounded-2xl p-3.5 text-center",children:[e.jsxs("div",{className:"relative w-14 h-14 mx-auto mb-2",children:[e.jsx(ce,{pct:l.netWorthGoal>0?q/l.netWorthGoal*100:0,color:"#3182F6",size:56,stroke:4}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-extrabold text-[#3182F6]",children:g(`${(l.netWorthGoal>0?q/l.netWorthGoal*100:0).toFixed(0)}%`)})]}),e.jsx("div",{className:"text-[11px] text-c-text3 mb-0.5",children:"ìˆœìžì‚° ëª©í‘œ"}),e.jsx("div",{className:"text-sm font-bold text-c-text",children:g(j(q))}),e.jsxs("div",{className:"text-[10px] text-c-text3",children:["/ ",e.jsx(de,{value:l.netWorthGoal,onSave:t=>c({...l,netWorthGoal:Math.round(t)}),format:j})]})]})]})]}),e.jsx("div",{className:"border-t border-c-border mx-5"}),e.jsxs("div",{className:"px-5 pt-4 pb-5",children:[e.jsx("h2",{className:"text-sm font-bold text-c-text mb-2",children:"ê²½ì œ ì¼ì •"}),Z.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-[10px] font-bold text-[#FF4757] mb-1.5 tracking-widest uppercase",children:"Today"}),Z.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2 py-2 border-b border-c-border",children:[e.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${we(t.importance)}`}),e.jsx("span",{className:"text-[11px] text-c-text3 shrink-0",children:t.time}),e.jsx("span",{className:"text-sm flex-1 text-c-text font-medium",children:t.name})]},s))]}),J.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold text-c-text3 mb-1.5 tracking-widest uppercase",children:"Upcoming"}),J.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2 py-2 border-b border-c-border last:border-0",children:[e.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${we(t.importance)}`}),e.jsxs("span",{className:"text-[11px] text-c-text3 shrink-0",children:[t.date.substring(5)," ",t.time]}),e.jsx("span",{className:"text-sm flex-1 text-c-text2",children:t.name})]},s))]}),Z.length===0&&J.length===0&&e.jsx("div",{className:"text-sm text-c-text3 text-center py-4",children:"ì˜ˆì •ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤"}),d.length>0&&(Z.length>0||J.length>0)&&e.jsxs("div",{className:"mt-2 bg-[#3182F6]/8 border border-[#3182F6]/15 rounded-xl p-3",children:[e.jsx("div",{className:"text-[11px] font-bold text-[#3182F6] mb-1",children:"ë‚´ í¬íŠ¸í´ë¦¬ì˜¤ ì˜í–¥"}),e.jsxs("div",{className:"text-xs text-c-text2",children:["ë³´ìœ  ì¢…ëª©(",d.map(t=>t.symbol).join(", "),")ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìžˆëŠ” ì§€í‘œìž…ë‹ˆë‹¤."]})]})]})]})})}function xt({transactions:n,hideAmounts:r}){const l=m.useMemo(()=>{const c=new Date,a=c.getDay(),d=new Date(c);d.setDate(c.getDate()-(a===0?6:a-1));const p=new Date(d);p.setDate(p.getDate()-7);let f=0,x=0;const E=[];for(let h=0;h<7;h++){const P=new Date(d);P.setDate(d.getDate()+h);const T=P.toISOString().split("T")[0],A=n.filter(b=>b.date===T&&!b.refunded).reduce((b,z)=>b+z.amount,0);f+=A,E.push({d:["ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† ","ì¼"][h],v:A});const F=new Date(p);F.setDate(p.getDate()+h),x+=n.filter(b=>b.date===F.toISOString().split("T")[0]&&!b.refunded).reduce((b,z)=>b+z.amount,0)}const D=x>0?(f-x)/x*100:0;return{days:E,thisW:f,lastW:x,diff:D}},[n]);return e.jsxs("div",{className:"px-5 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-sm font-bold text-c-text",children:"ì´ë²ˆì£¼ ì§€ì¶œ"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-sm font-bold text-c-text",children:r?"â€¢â€¢â€¢â€¢â€¢":j(l.thisW)}),l.lastW>0&&e.jsxs("span",{className:`flex items-center gap-0.5 text-[11px] font-bold ${l.diff<=0?"text-[#00C48C]":"text-[#FF4757]"}`,children:[l.diff<=0?e.jsx(ct,{size:12}):e.jsx(Ge,{size:12}),r?"â€¢â€¢â€¢":`${l.diff>0?"+":""}${l.diff.toFixed(0)}%`]})]})]}),e.jsx("div",{className:"h-12",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsx(Ze,{data:l.days,children:e.jsx(Je,{dataKey:"v",fill:"#3182F6",radius:[4,4,0,0]})})})}),e.jsx("div",{className:"flex justify-between text-[9px] text-c-text3 mt-0.5",children:l.days.map(c=>e.jsx("span",{children:c.d},c.d))})]})}export{Nt as default};
